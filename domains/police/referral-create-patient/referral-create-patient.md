## 개요

경찰관이 정신과 응급환자의 입원 의뢰서를 작성하는 페이지입니다. 환자 정보, 보호자 정보, 추가 정보를 입력하고 사진을 첨부하여 완성된 의뢰서를 생성합니다.

---

## 화면 구성 요소

### 상단 헤더 영역

- **뒤로가기 버튼**: 대시보드로 돌아가기
- **페이지 제목**: "응급 입원 의뢰서 작성"
- **진행 단계**: "1/2 단계" 표시

### 환자 정보 섹션

### 기본 정보

- **환자명**: 텍스트 입력 (필수)
- **성별**: 라디오 버튼 (남/여) (필수)
- **생년월일**: 날짜 선택기 (필수)
- **환자구분**: 드롭다운 선택 (성인/청소년/알코올/기타) (필수)

### 신체 정보

- **신장**: 숫자 입력 + "cm" 단위
- **체중**: 숫자 입력 + "kg" 단위

### 보호자 정보 섹션

- **보호자명**: 텍스트 입력 (필수)
- **관계**: 드롭다운 선택 (부모/형제자매/배우자/기타) (필수)
- **연락처**: 전화번호 입력 (필수)
    - 형식: 010-0000-0000
    - 자동 하이픈 삽입

### 추가 정보 섹션

- **기타 특이사항**: 텍스트 영역 (선택)
    - 플레이스홀더: "환자의 특이사항, 증상, 주의사항 등을 입력하세요"
    - 최대 500자

### 사진 첨부 섹션

- **첨부 가능 파일**: 공무원증, 환자 사진 등
- **최대 첨부 수**: 10장
- **지원 형식**: JPG, PNG, HEIC
- **촬영/선택 옵션**: 카메라 촬영 또는 갤러리에서 선택

### 사진 첨부 UI

- **추가 버튼**: "+" 아이콘이 있는 큰 버튼
- **미리보기**: 썸네일 형태로 표시
- **삭제 기능**: 각 사진 우측 상단에 "×" 버튼
- **확대 보기**: 썸네일 클릭 시 전체 화면으로 확대

### 하단 액션 영역

- **임시저장 버튼**: 작성 중인 내용 임시 보관
- **미리보기 버튼**: 작성된 의뢰서 미리보기
- **다음 단계 버튼**: 병원 선택 단계로 이동 (주요 액션)

---

## 기능 명세

### 입력 검증

- **필수 필드 검증**: 환자명, 성별, 생년월일, 환자구분, 보호자명, 관계, 연락처
- **형식 검증**: 전화번호 (010-0000-0000), 날짜 형식
- **범위 검증**: 신장(50-250cm), 체중(10-300kg), 나이(만 0-120세)
- **텍스트 길이**: 기타 특이사항 최대 500자

### 데이터 처리

- **자동 저장**: 5분마다 임시저장 (로컬 스토리지)
- **데이터 복원**: 페이지 재진입 시 임시저장 데이터 복원 확인
- **입력 보조**: 전화번호 자동 하이픈, 숫자 필드 키패드

### 사진 관리

- **크기 제한**: 개별 파일 최대 10MB
- **압축 처리**: 업로드 전 자동 이미지 압축
- **EXIF 제거**: 개인정보 보호를 위한 메타데이터 제거
- **순서 변경**: 드래그 앤 드롭으로 사진 순서 조정

### 미리보기 기능

- **의뢰서 포맷**: 실제 전송될 양식과 동일한 형태
- **PDF 스타일**: 공식 문서 형태로 표시
- **편집 가능**: 미리보기에서 바로 수정 가능